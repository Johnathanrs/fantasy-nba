{% extends 'base.html' %}
{% load extra %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    
    <div class="col-md-4">
      <div class="mr-3 float-left" style="height: 200px;">
        <img src="/static/img/nba.ico" width="120">
      </div>
      <h2>{{ player.first_name }} {{ player.last_name }} <small class="text-secondary">{{ player.position }}</small></h2>

      <h5 class="text-success">{{ player.team }}</h5>
      <h5 class="text-warning">{{ player.injury1 }}</h5>
      <h6 class="text-secondary"><span class="text-body">Salary:</span> ${{ player.salary|floatformat:2 }}</h6>
      <h6 class="text-secondary"><span class="text-body">Avg Minutes:</span> {{ player.minutes }}</h6>
      <h6 class="text-secondary"><span class="text-body">Avg FPPG:</span> {{ player.value }}</h6>
    </div>
    <div id="flot-placeholder" style="height:160px;" class="mt-3 col-md-8"></div>

    <div class="col-md-12 mt-4 filters">
      <label class="ml-2">Home / Away: </label>
      <select class="ml-2 loc">
        <option value="all">All</option>
        <option value="">Home</option>
        <option value="@">Away</option>
      </select>
      <label class="ml-5">Opponent: </label>
      <select class="ml-2 opp">
        <option value="">All</option>
        {% for ii in opps %}
          <option>{{ ii }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-12 mt-2 games">
    </div>
  </div>
</div>

{% endblock %}

{% block script %}
  <script type="text/javascript" src="/static/flot/jquery.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.time.min.js"></script>
  <script type="text/javascript">
    var rdata = [],
        pid = {{ pid }};

    {% for ii in games %}
      rdata.push([new Date({{ ii.date|date:"Y, m, d" }}), {{ ii.pts }}])
    {% endfor %}
  </script>
  <script type="text/javascript" src="/static/js/player_detail.js"></script>
{% endblock %}
