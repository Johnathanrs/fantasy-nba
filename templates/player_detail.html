{% extends 'base.html' %}
{% load extra %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    
    <div class="col-md-4">
      <div class="mr-3 float-left" style="height: 200px;">
        <img src="/static/img/nba.ico" width="120">
      </div>
      <h2>{{ player.first_name }} {{ player.last_name }} <small class="text-secondary">{{ player.position }}</small></h2>

      <h5 class="text-success">{{ player.team }}</h5>
      <h5 class="text-warning">{{ player.injury }}</h5>
      <h6 class="text-secondary"><span class="text-body">Salary:</span> ${{ player.salary|floatformat:2 }}</h6>
      <h6 class="text-secondary"><span class="text-body">Avg Minutes:</span> {{ player.minutes }}</h6>
      <h6 class="text-secondary"><span class="text-body">Avg FPPG:</span> {{ player.value }}</h6>
    </div>
    <div id="flot-placeholder" style="height:160px;" class="mt-3 col-md-8"></div>

    <div style="height: 400px; overflow-y: scroll;" class="col-md-12 mt-4">
      <table class="table table-hover table-responsive-md">
        <tr>
          <td>
            <table>
              <tr><th>Name</th></tr>
              {% for ii in games %}
              <tr><td>{{ ii.name }}</td></tr>
              {% endfor %}
            </table>
          </td>
          <td>
            <table>
              <tr><th>Team</th></tr>
              {% for ii in games %}
              <tr><td>{{ ii.team }}</td></tr>
              {% endfor %}
            </table>
          </td>
          <td>
            <table>
              <tr><th>Minutes</th></tr>
              {% for ii in games %}
              <tr><td>{{ ii.mp }}</td></tr>
              {% endfor %}
            </table>
          </td>
          <td>
            <table>
              <tr><th>Date</th></tr>
              {% for ii in games %}
              <tr><td>{{ ii.date }}</td></tr>
              {% endfor %}
            </table>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>

{% endblock %}

{% block script %}
  <script type="text/javascript" src="/static/flot/jquery.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.time.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.symbol.min.js"></script>

  <script type="text/javascript">
    var data = [[1, 130], [2, 40], [3, 80], [4, 160], [5, 159], [6, 370], [7, 330], [8, 350], [9, 370], [10, 400], [11, 330], [12, 350]];

    var dataset = [{label: "Value",data: data}];

    var options = {
        series: {
            lines: { show: true },
            points: {
                radius: 3,
                show: true
            }
        }
    };

    $(document).ready(function () {
        $.plot($("#flot-placeholder"), dataset, options);
    });
  </script>
{% endblock %}
