{% extends 'base.html' %}
{% load extra %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    
    <div class="col-md-4">
      <div class="mr-3 float-left" style="height: 200px;">
        <img src="{{ player.avatar }}" width="120">
      </div>
      <h3>{{ player.first_name }} {{ player.last_name }} <small class="text-secondary">{{ player.position }}</small></h3>

      <h6 class="text-success">{{ player.team }}</h6>
      <h6 class="text-secondary">
        <span class="text-body">Salary:</span> ${{ player.salary|floatformat:2 }}
      </h6>
      <h6 class="text-secondary">
        <span class="text-body">Avg Minutes:</span> {{ avg_min.mp__avg|floatformat:1 }}
      </h6>
      <h6 class="text-secondary">
        <span class="text-body">Avg FPTS:</span> {{ avg_fpts.fpts__avg|floatformat:1 }}
      </h6>
    </div>
    <div id="flot-placeholder" style="height:160px;" class="mt-3 col-md-8"></div>

    <div class="col-md-12 mt-4 filters">
      <label class="ml-2">Home / Away: </label>
      <select class="ml-2 loc" onchange="loadGame()">
        <option value="all">All</option>
        <option value="">Home</option>
        <option value="@">Away</option>
      </select>
      <label class="ml-5">Opponent: </label>
      <select class="ml-2 opp" onchange="loadGame()"></select>

      <label class="ml-5">Sum: </label>
      <span id="sum"></span>
      <label class="ml-3">Avg: </label>
      <span id="avg"></span>

      <a href="#" onclick="setSeason(this)" data-season="2018" class="season float-right {% if year == 2018 %} active {% endif %}">[2018-2019]</a>
      <a href="#" onclick="setSeason(this)" data-season="2017" class="season float-right mr-2 {% if year == 2017 %} active {% endif %}">[2017-2018]</a>
      <a href="#" onclick="setSeason(this)" data-season="2016" class="season float-right mr-2">[2016-2017]</a>
    </div>
    <div class="col-md-12 mt-2 games">
    </div>
  </div>
</div>
{% endblock %}

{% block script %}
  <script type="text/javascript" src="/static/flot/jquery.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.min.js"></script>
  <script type="text/javascript" src="/static/flot/jquery.flot.time.min.js"></script>
  <script type="text/javascript">
    var pid = {{ pid }};
  </script>
  <script type="text/javascript" src="/static/js/player_detail.js"></script>
{% endblock %}
